import{c as y,p as g}from"./middleware-dtXbDlhF.js";import{u as C}from"./useGlobalUser-DSzfZyT8.js";const S=[{id:"math-first-step",title:"First Step",titleCN:"åˆæ¬¡æŽ¢ç´¢",description:"å®Œæˆç¬¬ä¸€ä¸ªæ•°å­¦ä¸»é¢˜çš„å­¦ä¹ ",icon:"ðŸŽ¯",category:"learning",requirement:1},{id:"math-problem-solver",title:"Problem Solver",titleCN:"è§£é¡Œé«˜æ‰‹",description:"å®Œæˆ100é“ç»ƒä¹ é¢˜",icon:"âœ¨",category:"practice",requirement:100},{id:"math-mc-master",title:"MC Master",titleCN:"MCé”äºº",description:"å®Œæˆ50é“MCé¢˜ç›®ä¸”æ­£ç¡®çŽ‡è¶…è¿‡80%",icon:"ðŸŽ¯",category:"practice",requirement:50},{id:"math-formula-master",title:"Formula Master",titleCN:"å…¬å¼å¤§å¸«",description:"æŽŒæ¡30ä¸ªæ•°å­¦å…¬å¼",icon:"ðŸ“",category:"learning",requirement:30},{id:"math-perfect-score",title:"Perfect Score",titleCN:"æ»¿åˆ†é”æˆ",description:"åœ¨ç»ƒä¹ ä¸­èŽ·å¾—æ»¡åˆ†",icon:"ðŸ†",category:"challenge",requirement:1},{id:"math-topic-complete",title:"Topic Master",titleCN:"ä¸»é¡Œç²¾é€š",description:"å®Œæˆä¸€ä¸ªå®Œæ•´ä¸»é¢˜çš„å­¦ä¹ ",icon:"ðŸŽ“",category:"learning",requirement:1},{id:"math-week-streak",title:"Weekly Warrior",titleCN:"å‘¨å­¸ç¿’é”äºº",description:"è¿žç»­å­¦ä¹ 7å¤©",icon:"ðŸ”¥",category:"challenge",requirement:7},{id:"math-error-master",title:"Error Master",titleCN:"éŒ¯é¡Œå¾æœè€…",description:"æŽŒæ¡50é“é”™é¢˜",icon:"ðŸ“–",category:"practice",requirement:50},{id:"math-geometry-expert",title:"Geometry Expert",titleCN:"å¹¾ä½•å°ˆå®¶",description:"å®Œæˆæ‰€æœ‰å‡ ä½•ç›¸å…³ä¸»é¢˜",icon:"ðŸ“",category:"learning",requirement:1},{id:"math-algebra-expert",title:"Algebra Expert",titleCN:"ä»£æ•¸å°ˆå®¶",description:"å®Œæˆæ‰€æœ‰ä»£æ•°ç›¸å…³ä¸»é¢˜",icon:"ðŸ”¢",category:"learning",requirement:1}],h=[{id:"number-algebra",name:"Number and Algebra",nameCN:"æ•¸èˆ‡ä»£æ•¸",icon:"ðŸ”¢",description:"æŽŒæ¡æ•°ä¸Žä»£æ•°çš„åŸºæœ¬æ¦‚å¿µå’Œè¿ç®—æŠ€å·§",subtopics:[{id:"na-foundation-1",name:"Basic Operations",nameCN:"åŸºæœ¬é‹ç®—",difficulty:"foundation",description:"æ•´æ•°ã€åˆ†æ•°ã€å°æ•°çš„å››åˆ™è¿ç®—"},{id:"na-foundation-2",name:"Algebraic Expressions",nameCN:"ä»£æ•¸å¼",difficulty:"foundation",description:"ä»£æ•°å¼çš„åŒ–ç®€ã€å±•å¼€å’Œå› å¼åˆ†è§£"},{id:"na-foundation-3",name:"Linear Equations",nameCN:"ä¸€æ¬¡æ–¹ç¨‹",difficulty:"foundation",description:"ä¸€å…ƒä¸€æ¬¡æ–¹ç¨‹å’ŒäºŒå…ƒä¸€æ¬¡æ–¹ç¨‹ç»„"},{id:"na-non-foundation-1",name:"Quadratic Equations",nameCN:"äºŒæ¬¡æ–¹ç¨‹",difficulty:"non-foundation",description:"ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹çš„è§£æ³•ä¸Žåº”ç”¨"},{id:"na-non-foundation-2",name:"Functions",nameCN:"å‡½æ•¸",difficulty:"non-foundation",description:"å‡½æ•°çš„æ¦‚å¿µã€å›¾åƒå’Œæ€§è´¨"},{id:"na-non-foundation-3",name:"Sequences",nameCN:"æ•¸åˆ—",difficulty:"non-foundation",description:"ç­‰å·®æ•°åˆ—å’Œç­‰æ¯”æ•°åˆ—"}]},{id:"measures-shape-space",name:"Measures, Shape and Space",nameCN:"åº¦é‡ã€åœ–å½¢èˆ‡ç©ºé–“",icon:"ðŸ“",description:"ç†è§£å‡ ä½•å›¾å½¢çš„æ€§è´¨å’Œç©ºé—´å…³ç³»",subtopics:[{id:"mss-foundation-1",name:"Basic Geometry",nameCN:"åŸºç¤Žå¹¾ä½•",difficulty:"foundation",description:"ç‚¹ã€çº¿ã€é¢çš„åŸºæœ¬æ¦‚å¿µ"},{id:"mss-foundation-2",name:"Triangles and Quadrilaterals",nameCN:"ä¸‰è§’å½¢èˆ‡å››é‚Šå½¢",difficulty:"foundation",description:"ä¸‰è§’å½¢å’Œå››è¾¹å½¢çš„æ€§è´¨å’Œè®¡ç®—"},{id:"mss-foundation-3",name:"Circles",nameCN:"åœ“",difficulty:"foundation",description:"åœ†çš„æ€§è´¨ã€å‘¨é•¿å’Œé¢ç§¯"},{id:"mss-non-foundation-1",name:"Coordinate Geometry",nameCN:"åæ¨™å¹¾ä½•",difficulty:"non-foundation",description:"åæ ‡å¹³é¢ä¸Šçš„ç›´çº¿å’Œæ›²çº¿"},{id:"mss-non-foundation-2",name:"Trigonometry",nameCN:"ä¸‰è§’å­¸",difficulty:"non-foundation",description:"ä¸‰è§’å‡½æ•°å’Œä¸‰è§’æ’ç­‰å¼"},{id:"mss-non-foundation-3",name:"3D Geometry",nameCN:"ç«‹é«”å¹¾ä½•",difficulty:"non-foundation",description:"ç«‹ä½“å›¾å½¢çš„è¡¨é¢ç§¯å’Œä½“ç§¯"}]},{id:"data-handling",name:"Data Handling",nameCN:"æ•¸æ“šè™•ç†",icon:"ðŸ“Š",description:"æŽŒæ¡æ•°æ®çš„æ”¶é›†ã€æ•´ç†å’Œåˆ†æžæ–¹æ³•",subtopics:[{id:"dh-foundation-1",name:"Data Collection",nameCN:"æ•¸æ“šæ”¶é›†",difficulty:"foundation",description:"æ•°æ®çš„æ”¶é›†å’Œæ•´ç†æ–¹æ³•"},{id:"dh-foundation-2",name:"Statistical Graphs",nameCN:"çµ±è¨ˆåœ–è¡¨",difficulty:"foundation",description:"æ¡å½¢å›¾ã€æŠ˜çº¿å›¾ã€é¥¼å›¾ç­‰ç»Ÿè®¡å›¾è¡¨"},{id:"dh-foundation-3",name:"Measures of Central Tendency",nameCN:"é›†ä¸­è¶¨å‹¢",difficulty:"foundation",description:"å¹³å‡æ•°ã€ä¸­ä½æ•°ã€ä¼—æ•°"},{id:"dh-non-foundation-1",name:"Probability",nameCN:"æ¦‚çŽ‡",difficulty:"non-foundation",description:"æ¦‚çŽ‡çš„åŸºæœ¬æ¦‚å¿µå’Œè®¡ç®—"},{id:"dh-non-foundation-2",name:"Permutations and Combinations",nameCN:"æŽ’åˆ—èˆ‡çµ„åˆ",difficulty:"non-foundation",description:"æŽ’åˆ—ç»„åˆçš„è®¡ç®—å’Œåº”ç”¨"},{id:"dh-non-foundation-3",name:"Advanced Statistics",nameCN:"é€²éšŽçµ±è¨ˆ",difficulty:"non-foundation",description:"æ ‡å‡†å·®ã€æ–¹å·®ç­‰ç»Ÿè®¡é‡"}]}],b=y()(g((n,a)=>{const m=()=>{var e;return((e=C.getState().getUser())==null?void 0:e.id)||"anonymous"};return{practiceRecords:[],addPracticeRecord:e=>{const i=m(),r={...e,id:`pr-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:new Date,userId:i};n(s=>({practiceRecords:[...s.practiceRecords,r]}));const t=a().stats;if(a().updateStats({exercisesSolved:t.exercisesSolved+1,averageScore:e.isCorrect?Math.round((t.averageScore*t.exercisesSolved+100)/(t.exercisesSolved+1)):Math.round(t.averageScore*t.exercisesSolved/(t.exercisesSolved+1))}),e.isCorrect||a().addErrorLog(e.questionId,e.topic,e.subtopic),e.isCorrect){const s=a().topicProgress[e.topic]||0;a().updateTopicProgress(e.topic,Math.min(100,s+1))}},errorLogs:[],addErrorLog:(e,i,r)=>{const t=m(),s=a().errorLogs.find(c=>c.questionId===e&&c.userId===t);n(s?c=>({errorLogs:c.errorLogs.map(u=>u.id===s.id?{...u,errorCount:u.errorCount+1,lastErrorTime:new Date}:u)}):c=>({errorLogs:[...c.errorLogs,{id:`el-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,userId:t,questionId:e,errorCount:1,lastErrorTime:new Date,mastered:!1,topic:i,subtopic:r}]}))},markAsMastered:e=>{n(i=>({errorLogs:i.errorLogs.map(r=>r.id===e?{...r,mastered:!0}:r)}))},topicProgress:{},updateTopicProgress:(e,i)=>{n(r=>({topicProgress:{...r.topicProgress,[e]:Math.max(0,Math.min(100,i))}}))},getRecommendedQuestions:e=>a().errorLogs.filter(t=>!t.mastered&&t.userId===m()).sort((t,s)=>s.errorCount-t.errorCount).slice(0,Math.floor(e/2)).map(t=>t.questionId),getMathReport:()=>{const e=m(),i=a().practiceRecords.filter(o=>o.userId===e),r=a().errorLogs.filter(o=>o.userId===e),t={};i.forEach(o=>{t[o.topic]||(t[o.topic]={correct:0,total:0,time:0}),t[o.topic].total++,t[o.topic].time+=o.timeSpent,o.isCorrect&&t[o.topic].correct++});const s={æ•°ä¸Žä»£æ•°:0,"åº¦é‡ã€å›¾å½¢ä¸Žç©ºé—´":0,æ•°æ®å¤„ç†:0};h.forEach(o=>{const d=t[o.id];if(d&&d.total>0){const f=Math.round(d.correct/d.total*100);s[o.nameCN]=f}});const c={};r.forEach(o=>{const d=o.topic||"unknown";c[d]=(c[d]||0)+o.errorCount});const p=a().dailyStudy.slice(-7).map(o=>({date:o.date,score:o.exercisesCompleted>0?Math.round(o.exercisesCompleted/10*100):0})),l={};return Object.entries(t).forEach(([o,d])=>{l[o]={correctRate:d.total>0?Math.round(d.correct/d.total*100):0,averageTime:d.total>0?Math.round(d.time/d.total):0,totalQuestions:d.total}}),{userId:e,radarData:s,topicStats:l,errorDistribution:c,progressTrend:p}},achievements:S.map(e=>({...e,progress:0,unlocked:!1})),unlockAchievement:e=>{const i=a().achievements.map(r=>r.id===e?{...r,unlocked:!0,unlockedAt:new Date}:r);n({achievements:i})},updateAchievementProgress:(e,i)=>{const r=a().achievements.map(t=>t.id===e?{...t,progress:i,unlocked:i>=t.requirement,unlockedAt:i>=t.requirement?new Date:t.unlockedAt}:t);n({achievements:r})},stats:{totalStudyTime:0,topicsCompleted:0,exercisesSolved:0,averageScore:0,currentStreak:0,longestStreak:0,weeklyGoal:300,weeklyProgress:0},updateStats:e=>{n({stats:{...a().stats,...e}})},addStudyTime:e=>{const{stats:i}=a();n({stats:{...i,totalStudyTime:i.totalStudyTime+e,weeklyProgress:i.weeklyProgress+e}})},dailyStudy:[],recordDailyStudy:e=>{const i=new Date().toISOString().split("T")[0];if(a().dailyStudy.find(t=>t.date===i)){const t=a().dailyStudy.map(s=>s.date===i?{...s,minutes:s.minutes+e.minutes,exercisesCompleted:s.exercisesCompleted+e.exercisesCompleted,topicsStudied:[...new Set([...s.topicsStudied,...e.topicsStudied])]}:s);n({dailyStudy:t})}else n({dailyStudy:[...a().dailyStudy,{date:i,...e}]})},sidebarOpen:!0,toggleSidebar:()=>n({sidebarOpen:!a().sidebarOpen}),currentTopic:null,setCurrentTopic:e=>n({currentTopic:e})}},{name:"dse-math-storage",partialize:n=>({practiceRecords:n.practiceRecords,errorLogs:n.errorLogs,topicProgress:n.topicProgress,achievements:n.achievements,stats:n.stats,dailyStudy:n.dailyStudy})}));export{h as M,b as u};
